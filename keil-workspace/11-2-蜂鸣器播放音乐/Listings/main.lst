C51 COMPILER V9.54   MAIN                                                                  11/14/2024 10:11:54 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\software\Keil\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "Delay.h"
   3          #include "Timer0.h"
   4          
   5          sbit Buzzer = P1^5;
   6          
   7          //Êí≠ÊîæÈÄüÂ∫¶ÔºåÂÄº‰∏∫ÂõõÂàÜÈü≥Á¨¶ÁöÑÊó∂ÈïøÔºàmsÔºâ
   8          #define SPEED 500
   9          
  10          //Èü≥Á¨¶‰∏éÁ¥¢ÂºïÂØπÂ∫îË°®ÔºåPÔºö‰ºëÊ≠¢Á¨¶ÔºåLÔºö‰ΩéÈü≥ÔºåMÔºö‰∏≠Èü≥ÔºåHÔºöÈ´òÈü≥Ôºå‰∏ãÂàíÁ∫øÔºöÂçáÂçäÈü≥Á
             -¨¶Âè∑#
  11          #define P 0
  12          #define L1  1
  13          #define L1_ 2
  14          #define L2  3
  15          #define L2_ 4
  16          #define L3  5
  17          #define L4  6
  18          #define L4_ 7
  19          #define L5  8
  20          #define L5_ 9
  21          #define L6  10
  22          #define L6_ 11
  23          #define L7  12
  24          #define M1  13
  25          #define M1_ 14
  26          #define M2  15
  27          #define M2_ 16
  28          #define M3  17
  29          #define M4  18
  30          #define M4_ 19
  31          #define M5  20
  32          #define M5_ 21
  33          #define M6  22
  34          #define M6_ 23
  35          #define M7  24
  36          #define H1  25
  37          #define H1_ 26
  38          #define H2  27
  39          #define H2_ 28
  40          #define H3  29
  41          #define H4  30
  42          #define H4_ 31
  43          #define H5  32
  44          #define H5_ 33
  45          #define H6  34
  46          #define H6_ 35
  47          #define H7  36
  48          
  49          //Á¥¢Âºï‰∏éÈ¢ëÁéáÂØπÁÖßË°®
  50          unsigned int FreqTable[]={
  51            0,
  52            63628,63731,63835,63928,64021,64103,64185,64260,64331,64400,64463,64528,
  53            64580,64633,64684,64732,64777,64820,64860,64898,64934,64968,65000,65030,
C51 COMPILER V9.54   MAIN                                                                  11/14/2024 10:11:54 PAGE 2   

  54            65058,65085,65110,65134,65157,65178,65198,65217,65235,65252,65268,65283,
  55          };
  56          
  57          //‰πêË∞±
  58          unsigned char code Music[]={
  59            //Èü≥Á¨¶,Êó∂ÂÄº,
  60            
  61            //1
  62            P,  4,
  63            P,  4,
  64            P,  4,
  65            M6, 2,
  66            M7, 2,
  67            
  68            H1, 4+2,
  69            M7, 2,
  70            H1, 4,
  71            H3, 4,
  72            
  73            M7, 4+4+4,
  74            M3, 2,
  75            M3, 2,
  76            
  77            //2
  78            M6, 4+2,
  79            M5, 2,
  80            M6, 4,
  81            H1, 4,
  82            
  83            M5, 4+4+4,
  84            M3, 4,
  85            
  86            M4, 4+2,
  87            M3, 2,
  88            M4, 4,
  89            H1, 4,
  90            
  91            //3
  92            M3, 4+4,
  93            P,  2,
  94            H1, 2,
  95            H1, 2,
  96            H1, 2,
  97            
  98            M7, 4+2,
  99            M4_,2,
 100            M4_,4,
 101            M7, 4,
 102            
 103            M7, 8,
 104            P,  4,
 105            M6, 2,
 106            M7, 2,
 107            
 108            //4
 109            H1, 4+2,
 110            M7, 2,
 111            H1, 4,
 112            H3, 4,
 113            
 114            M7, 4+4+4,
 115            M3, 2,
C51 COMPILER V9.54   MAIN                                                                  11/14/2024 10:11:54 PAGE 3   

 116            M3, 2,
 117            
 118            M6, 4+2,
 119            M5, 2,
 120            M6, 4,
 121            H1, 4,
 122            
 123            //5
 124            M5, 4+4+4,
 125            M2, 2,
 126            M3, 2,
 127            
 128            M4, 4,
 129            H1, 2,
 130            M7, 2+2,
 131            H1, 2+4,
 132            
 133            H2, 2,
 134            H2, 2,
 135            H3, 2,
 136            H1, 2+4+4,
 137            
 138            //6
 139            H1, 2,
 140            M7, 2,
 141            M6, 2,
 142            M6, 2,
 143            M7, 4,
 144            M5_,4,
 145            
 146            
 147            M6, 4+4+4,
 148            H1, 2,
 149            H2, 2,
 150            
 151            H3, 4+2,
 152            H2, 2,
 153            H3, 4,
 154            H5, 4,
 155            
 156            //7
 157            H2, 4+4+4,
 158            M5, 2,
 159            M5, 2,
 160            
 161            H1, 4+2,
 162            M7, 2,
 163            H1, 4,
 164            H3, 4,
 165            
 166            H3, 4+4+4+4,
 167            
 168            //8
 169            M6, 2,
 170            M7, 2,
 171            H1, 4,
 172            M7, 4,
 173            H2, 2,
 174            H2, 2,
 175            
 176            H1, 4+2,
 177            M5, 2+4+4,
C51 COMPILER V9.54   MAIN                                                                  11/14/2024 10:11:54 PAGE 4   

 178            
 179            H4, 4,
 180            H3, 4,
 181            H3, 4,
 182            H1, 4,
 183            
 184            //9
 185            H3, 4+4+4,
 186            H3, 4,
 187            
 188            H6, 4+4,
 189            H5, 4,
 190            H5, 4,
 191            
 192            H3, 2,
 193            H2, 2,
 194            H1, 4+4,
 195            P,  2,
 196            H1, 2,
 197            
 198            //10
 199            H2, 4,
 200            H1, 2,
 201            H2, 2,
 202            H2, 4,
 203            H5, 4,
 204            
 205            H3, 4+4+4,
 206            H3, 4,
 207            
 208            H6, 4+4,
 209            H5, 4+4,
 210            
 211            //11
 212            H3, 2,
 213            H2, 2,
 214            H1, 4+4,
 215            P,  2,
 216            H1, 2,
 217            
 218            H2, 4,
 219            H1, 2,
 220            H2, 2+4,
 221            M7, 4,
 222            
 223            M6, 4+4+4,
 224            P,  4,
 225            
 226            0xFF  //ÁªàÊ≠¢Ê†áÂøó
 227          };
 228          
 229          unsigned char FreqSelect, MusicSelect;
 230          
 231          void main()
 232          {
 233   1        Timer0Init();
 234   1        
 235   1        while(1)
 236   1        {
 237   2          if (Music[MusicSelect]!=0xFF) {
 238   3            FreqSelect = Music[MusicSelect];
 239   3            MusicSelect++;
C51 COMPILER V9.54   MAIN                                                                  11/14/2024 10:11:54 PAGE 5   

 240   3            
 241   3            Delay(SPEED/4 * Music[MusicSelect]);
 242   3            MusicSelect++;
 243   3            
 244   3            TR0 = 0;   // ÂÖ≥Èó≠ÂÆöÊó∂Âô®
 245   3            Delay(5);  // Èü≥Á¨¶Èó¥ Áü≠ÊöÇÂÅúÈ°ø
 246   3            TR0 = 1;   // ÊâìÂºÄÂÆöÊó∂Âô®
 247   3          } 
 248   2          else  //‰πêË∞±ÁªìÊùüÊ†áÂøó‰Ωç
 249   2          {
 250   3            TR0 = 0;
 251   3            while(1);
 252   3          }
 253   2        }
 254   1      }
 255          
 256          
 257          void Timer0_Routine() interrupt 1
 258          {
 259   1        if(FreqTable[FreqSelect]) //Â¶ÇÊûú‰∏çÊòØ‰ºëÊ≠¢Á¨¶
 260   1        {
 261   2          /*ÂèñÂØπÂ∫îÈ¢ëÁéáÂÄºÁöÑÈáçË£ÖËΩΩÂÄºÂà∞ÂÆöÊó∂Âô®*/
 262   2          TL0 = FreqTable[FreqSelect]%256;    //ËÆæÁΩÆÂÆöÊó∂ÂàùÂÄº
 263   2          TH0 = FreqTable[FreqSelect]/256;    //ËÆæÁΩÆÂÆöÊó∂ÂàùÂÄº
 264   2          Buzzer=!Buzzer; //ÁøªËΩ¨ËúÇÈ∏£Âô®IOÂè£
 265   2        }
 266   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    101    ----
   CONSTANT SIZE    =    241    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     76    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
