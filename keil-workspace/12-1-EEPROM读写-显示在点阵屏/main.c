#include <REGX52.H>
#include "Int_EEPROM.h"
#include "MatrixLED.h"

//	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
//	0xFF,0x08,0x08,0x08,0xFF,0x00,0x0E,0x15,
//	0x15,0x15,0x08,0x00,0x7E,0x01,0x02,0x00,
//	0x7E,0x01,0x02,0x00,0x0E,0x11,0x11,0x0E,
//	0x00,0x7D,0x00,0x00,0x00,0x00,0x00,0x00,
//	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

unsigned char Animation[] = {
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0xFF,0x08,0x08,0x08,0xFF,0x00,0x0E,0x15,
	0x15,0x15,0x08,0x00,0x7E,0x01,0x02,0x00,
	0x7E,0x01,0x02,0x00,0x0E,0x11,0x11,0x0E,
};

unsigned char cache[32];
unsigned char i, offset = 0, cout = 0;

void main()
{

	MatrixLED_init();
	
	//Int_EEPROM_WriteBytes(0, Animation, 32);

	Int_EEPROM_ReadBytes(0, cache, 32);
	
	while(1){
		for(i=0;i<8;i++)
		{
			MatrixLED_ShowColIndex(i, cache[i+offset]);	
		}
		cout++;
		
		if(cout > 10)
		{
			cout = 0;
			offset++;
			if (offset > 32) 
			{
				offset = 0;
			}
		}
	}
	
}